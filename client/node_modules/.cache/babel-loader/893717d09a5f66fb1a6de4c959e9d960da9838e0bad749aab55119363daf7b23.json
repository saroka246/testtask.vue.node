{"ast":null,"code":"import { vMaska } from \"maska\";\nimport axios from 'axios';\nexport default {\n  props: {\n    showModal: {\n      type: Boolean,\n      default: false,\n      required: true\n    }\n  },\n  directives: {\n    maska: vMaska\n  },\n  data() {\n    return {\n      title: '',\n      text: '',\n      date: ''\n    };\n  },\n  methods: {\n    async createPost() {\n      try {\n        const res = await axios.post(`http://localhost:8081/api/notes`, {\n          title: this.title,\n          text: this.text,\n          date: this.date\n        });\n        if (res.data.error) {\n          document.querySelector(`#${res.data.error}`).classList.add('error');\n          setTimeout(() => {\n            document.querySelector(`#${res.data.error}`).classList.remove('error');\n          }, 2000);\n          return;\n        } else {\n          this.title = '';\n          this.text = '';\n          this.date = '';\n          this.$emit('close');\n          this.$emit('createPost');\n        }\n      } catch (error) {\n        alert('error');\n      }\n    }\n  }\n};","map":{"version":3,"names":["vMaska","axios","props","showModal","type","Boolean","default","required","directives","maska","data","title","text","date","methods","createPost","res","post","error","document","querySelector","classList","add","setTimeout","remove","$emit","alert"],"sources":["C:\\Users\\sasha\\Desktop\\test.docker\\client\\src\\components\\Modal.vue"],"sourcesContent":["<template>\r\n    <div id=\"modal\" :class=\"{ active: showModal }\">\r\n        <div class=\"modal__container\">\r\n            <h2>Новая запись</h2>\r\n            <form action=\"\" @submit.prevent=\"createPost\">\r\n                <button type=\"button\" class=\"close\" @click=\"$emit('close')\" >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" fill=\"none\">\r\n                        <path d=\"M11.0834 11.0835L26.9167 26.9168M11.0834 26.9168L26.9167 11.0835\" stroke=\"#050F28\" stroke-width=\"3.16667\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                </button>\r\n                <div class=\"form__item\" id=\"title\">\r\n                    <label for=\"\">Заголовок</label>\r\n                    <input \r\n                        name=\"title\"\r\n                        type=\"text\" \r\n                        required \r\n                        v-bind:value=\"title\" \r\n                        @input=\"title = \r\n                        $event.target.value\"\r\n                        >\r\n                    <span>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                            <circle opacity=\"0.16\" cx=\"12\" cy=\"12\" r=\"9\" fill=\"#FF832A\"/>\r\n                            <circle cx=\"12\" cy=\"12\" r=\"9\" stroke=\"#FF832A\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                            <rect x=\"12\" y=\"16\" width=\"0.01\" height=\"0.01\" stroke=\"#FF832A\" stroke-width=\"3\" stroke-linejoin=\"round\"/>\r\n                            <path d=\"M12 12L12 8\" stroke=\"#FF832A\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                        </svg>\r\n                        Не должно быть больше 200 символов\r\n                    </span>\r\n                </div>\r\n                <div class=\"form__item\" id=\"date\">\r\n                    <label for=\"\">Дата</label>\r\n                    <input \r\n                        name=\"date\"\r\n                        type=\"text\" \r\n                        required \r\n                        v-maska \r\n                        data-maska=\"##-##-#### ##:##\" \r\n                        placeholder=\"22-10-2023 10:00\" \r\n                        v-bind:value=\"date\" \r\n                        @input=\"date = $event.target.value\"\r\n                    >\r\n                    <span>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                            <circle opacity=\"0.16\" cx=\"12\" cy=\"12\" r=\"9\" fill=\"#FF832A\"/>\r\n                            <circle cx=\"12\" cy=\"12\" r=\"9\" stroke=\"#FF832A\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                            <rect x=\"12\" y=\"16\" width=\"0.01\" height=\"0.01\" stroke=\"#FF832A\" stroke-width=\"3\" stroke-linejoin=\"round\"/>\r\n                            <path d=\"M12 12L12 8\" stroke=\"#FF832A\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                        </svg>\r\n                        Неверная дата\r\n                    </span>\r\n                </div>\r\n                <div class=\"form__item form__item--wide\" id=\"text\">\r\n                    <label for=\"\">Заметка</label>\r\n                    <textarea name=\"text\" id=\"\" cols=\"30\" rows=\"5\" v-bind:value=\"text\" @input=\"text = $event.target.value\"></textarea>\r\n                </div>\r\n                <button type=\"submit\">Поделиться наболевшим</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { vMaska } from \"maska\";\r\nimport axios from 'axios';\r\n\r\nexport default{\r\n    props: {\r\n        showModal: {\r\n            type: Boolean,\r\n            default: false,\r\n            required: true,\r\n        }\r\n    },\r\n    directives: { \r\n        maska: vMaska\r\n    },\r\n    data(){\r\n        return{\r\n            title: '',\r\n            text: '',\r\n            date: '',\r\n        }\r\n    },\r\n    methods: {\r\n        async createPost(){\r\n            try {\r\n                const res = await axios.post(`http://localhost:8081/api/notes`, {\r\n                    title: this.title,\r\n                    text: this.text,\r\n                    date: this.date,\r\n                });\r\n                if(res.data.error){\r\n                    document.querySelector(`#${res.data.error}`).classList.add('error');\r\n                    setTimeout( () => {\r\n                        document.querySelector(`#${res.data.error}`).classList.remove('error');\r\n                    }, 2000)\r\n                    return;\r\n                } else {\r\n                    this.title = '';\r\n                    this.text = '';\r\n                    this.date = '';\r\n                    this.$emit('close');\r\n                    this.$emit('createPost');\r\n                }\r\n                \r\n            } catch (error) {\r\n                alert('error')\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n#modal{\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(5, 15, 40, 0.8);\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    display: none;\r\n}\r\n#modal.active{\r\n    display: flex;\r\n}\r\n.modal__container{\r\n    display: flex;\r\n    flex-direction: column;\r\n    border-radius: 40px;\r\n    background:#FFF;\r\n    width: 1214px;\r\n    padding: 2.75rem 3.75rem 3.5rem;\r\n    position: relative;\r\n}\r\n.modal__container .close{\r\n    position: absolute;\r\n    top: 2rem;\r\n    right: 2rem;\r\n    background-color: transparent;\r\n}\r\n#modal h2{\r\n    color: #000;\r\n    font-size: 2.125rem;\r\n    font-weight: 700;\r\n    line-height: 110%;\r\n}\r\n.form__item{\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: calc((100% - 2.125rem) / 2);\r\n    gap: 4px;\r\n    position: relative;\r\n}\r\n.form__item--wide{\r\n    width: 100%;\r\n}\r\n#modal form{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    margin-top: 2.5rem;\r\n    row-gap: 1.25rem;\r\n}\r\n.form__item label{\r\n    font-size: 1.125rem;\r\n    line-height: 110%;\r\n}\r\n.form__item input{\r\n    width: 100%;\r\n    height: 80px;\r\n    background-color: #F6F6F6;\r\n    border: 1px solid transparent;\r\n    border-radius: 4px;\r\n    padding: 0 1rem;\r\n    font-size: 1.25rem;\r\n}\r\n.form__item.error input{\r\n    border-color: #FF832A;\r\n}\r\n.form__item.error span{\r\n    opacity: 1;\r\n}\r\n.form__item span{\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 5px;\r\n    color: #FF832A;\r\n    font-size: 1.125rem;\r\n    opacity: 0;\r\n}\r\n.form__item textarea{\r\n    width: 100%;\r\n    background-color: #F6F6F6;\r\n    border: 1px solid transparent;\r\n    border-radius: 4px;\r\n    padding: 1.875rem 1rem;\r\n    font-size: 1.25rem;\r\n    height: 166px;\r\n}\r\n#modal form button[type=\"submit\"]{\r\n    padding: 0 120px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 65px;\r\n    background: #050F28;\r\n    height: 97px;\r\n    color: #fff;\r\n    font-size: 1.125rem;\r\n    text-transform: uppercase;\r\n    font-weight: 700;\r\n    width: calc((100% - 2.125rem) / 2);\r\n}\r\n@media (max-width: 1279px){\r\n    .modal__container{\r\n        width: calc(100% - 4rem);\r\n    }\r\n}\r\n@media(max-width: 1149px){\r\n    #modal form button[type=\"submit\"]{\r\n        width: auto;\r\n    }\r\n    .modal__container{\r\n        width: calc(100% - 4rem);\r\n    }\r\n}\r\n@media(max-width: 992px){\r\n    .form__item{\r\n        width: 100%;\r\n    }\r\n    .modal__container{\r\n        width: calc(100% - 2rem);\r\n        max-height: calc(100% - 2rem);\r\n        padding: 1.5rem;\r\n    }\r\n    #modal form button[type=\"submit\"]{\r\n        height: 60px;\r\n        width: 100%;\r\n        padding: 0;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    .modal__container .close{\r\n        top: 1.5rem;\r\n        right: 1.5rem;\r\n    }\r\n}\r\n@media (max-width: 767px){\r\n    .modal__container{\r\n        width: 100%;\r\n        height: 100%;\r\n        max-height: 100%;\r\n        border-radius: 0;\r\n    }    \r\n}\r\n</style>"],"mappings":"AA8DA,SAASA,MAAK,QAAS,OAAO;AAC9B,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAc;EACVC,KAAK,EAAE;IACHC,SAAS,EAAE;MACPC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE;IACd;EACJ,CAAC;EACDC,UAAU,EAAE;IACRC,KAAK,EAAET;EACX,CAAC;EACDU,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE;IACV;EACJ,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,UAAUA,CAAA,EAAE;MACd,IAAI;QACA,MAAMC,GAAE,GAAI,MAAMf,KAAK,CAACgB,IAAI,CAAE,iCAAgC,EAAE;UAC5DN,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBC,IAAI,EAAE,IAAI,CAACA,IAAI;UACfC,IAAI,EAAE,IAAI,CAACA;QACf,CAAC,CAAC;QACF,IAAGG,GAAG,CAACN,IAAI,CAACQ,KAAK,EAAC;UACdC,QAAQ,CAACC,aAAa,CAAE,IAAGJ,GAAG,CAACN,IAAI,CAACQ,KAAM,EAAC,CAAC,CAACG,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;UACnEC,UAAU,CAAE,MAAM;YACdJ,QAAQ,CAACC,aAAa,CAAE,IAAGJ,GAAG,CAACN,IAAI,CAACQ,KAAM,EAAC,CAAC,CAACG,SAAS,CAACG,MAAM,CAAC,OAAO,CAAC;UAC1E,CAAC,EAAE,IAAI;UACP;QACJ,OAAO;UACH,IAAI,CAACb,KAAI,GAAI,EAAE;UACf,IAAI,CAACC,IAAG,GAAI,EAAE;UACd,IAAI,CAACC,IAAG,GAAI,EAAE;UACd,IAAI,CAACY,KAAK,CAAC,OAAO,CAAC;UACnB,IAAI,CAACA,KAAK,CAAC,YAAY,CAAC;QAC5B;MAEJ,EAAE,OAAOP,KAAK,EAAE;QACZQ,KAAK,CAAC,OAAO;MACjB;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}